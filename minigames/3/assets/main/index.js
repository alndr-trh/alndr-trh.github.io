System.register("chunks:///_virtual/main",["./Player.ts","./Redirect.ts","./Road.ts","./Ui.ts"],(function(){"use strict";return{setters:[null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Player.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,e,o,a,c,s,i;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,a=t.input,c=t.Input,s=t.Animation,i=t.Component}],execute:function(){var r;e._RF.push({},"4be1cEHFIVI4aTtoVfLY86T","Player",void 0);var h=o.ccclass;t("Player",h("Player")(r=function(t){function e(){for(var n,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return(n=t.call.apply(t,[this].concat(o))||this).startY=0,n.startScaleX=0,n.startScaleY=0,n}n(e,t);var o=e.prototype;return o.dance=function(){a.off(c.EventType.TOUCH_START,this.onTouchStart,this),a.off(c.EventType.TOUCH_MOVE,this.onTouchMove,this);var t=this.node.getComponent(s);t.play("finish_dance_start"),this.scheduleOnce((function(){t.play("finish_dance")}),t.clips[1].duration)},o.onGameStart=function(){var t=this,n=this.node.getComponent(s);n.play("start_jump"),this.scheduleOnce((function(){a.on(c.EventType.TOUCH_START,t.onTouchStart,t),a.on(c.EventType.TOUCH_MOVE,t.onTouchMove,t)}),n.clips[0].duration)},o.onTouchStart=function(t){this.startScaleX=this.node.scale.x,this.startScaleY=this.node.scale.y,this.startY=t.touch.getLocationY()},o.onTouchMove=function(t){var n=this.startScaleX-(t.touch.getLocationY()-this.startY)/300,e=this.startScaleY+(t.touch.getLocationY()-this.startY)/300;this.node.setScale(Math.min(Math.max(n,.4),2),Math.min(Math.max(.3,e),2.7),1)},e}(i))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/Redirect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,c,o,r,n,s;return{setters:[function(e){t=e.inheritsLoose},function(e){c=e.cclegacy,o=e._decorator,r=e.sys,n=e.director,s=e.Component}],execute:function(){var i;c._RF.push({},"0bf162vdctNjpHX6iFkpd1U","Redirect",void 0);var p=o.ccclass;e("Redirect",p("Redirect")(i=function(e){function c(){return e.apply(this,arguments)||this}return t(c,e),c.prototype.onRedirectProcessing=function(){r.OS.IOS?r.openURL("https://apps.apple.com/app/id1467252438"):r.openURL("https://play.google.com/store/apps/details?id=com.shape.change"),n.end()},c}(s))||i);c._RF.pop()}}}));

System.register("chunks:///_virtual/Road.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Player.ts"],(function(e){"use strict";var t,n,i,a,o,r,s,l,p,u,c,d,h,f,g,y,v,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,s=e.Node,l=e.Prefab,p=e.JsonAsset,u=e.NodeEventType,c=e.instantiate,d=e.UITransform,h=e.BoxCollider,f=e.director,g=e.tween,y=e.Vec3,v=e.Component},function(e){b=e.Player}],execute:function(){var w,m,R,C,x,S,T,z,M,P,E,G,A,F,N;o._RF.push({},"c44c4FYbC9AnptolGg6fGYz","Road",void 0);var _=r.ccclass,D=r.property;e("Road",(w=_("Road"),m=D({type:s}),R=D({type:s}),C=D({type:Number}),x=D({type:l}),S=D({type:p}),T=D({type:[l]}),w((P=t((M=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,i(t,"playerRef",P,a(t)),i(t,"playerShadow",E,a(t)),i(t,"speed",G,a(t)),i(t,"tile",A,a(t)),i(t,"gatesMap",F,a(t)),i(t,"gatesVariants",N,a(t)),t.road=[],t.gates=[],t.roadMoveTween=null,t}n(t,e);var o=t.prototype;return o.start=function(){var e=this;this.addRoad(),this.addGates(),this.playerRef.on(u.TRANSFORM_CHANGED,(function(){e.playerShadow.setScale(e.playerRef.scale.x,e.playerRef.scale.y,.1)}),this),this.playerShadow.setPosition(this.gates[0].parent.position.x,this.playerRef.position.y,0)},o.addRoad=function(){for(var e=this.gatesMap.json.gates,t=0;t<e.length;++t){var n,i,a,o,r,s,l=c(this.tile);this.node.addChild(l);var p=this.road[this.road.length-1],u=(null!=(n=null==p||null==(i=p.position)?void 0:i.x)?n:0)+(null!=(a=null==p||null==(o=p.scale)?void 0:o.x)?a:0)*(null!=(r=null==p||null==(s=p.getComponent(d))?void 0:s.width)?r:0);l.setPosition(u,0,0),this.road.push(l)}},o.addGates=function(){var e=this,t=this.gatesMap.json.gates;this.road.forEach((function(n,i){if(0!==t[i]){var a=c(e.gatesVariants[t[i]-1]);e.gates.push(a),n.addChild(a);var o=a.getComponentsInChildren(h);o.shift().on("onTriggerEnter",(function(){var t;e.playerShadow.setPosition((null!=(t=e.gates[e.gates.indexOf(a)+1])?t:e.gates[0]).parent.position.x,e.playerRef.position.y,0)})),o.forEach((function(e){e.once("onTriggerExit",(function(){f.loadScene("main")}))}))}})),this.gates[this.gates.length-1].getComponentInChildren(h).on("onTriggerExit",(function(t){e.node.emit("onLastGatePassed"),e.playerRef.getComponent(b).dance()}),this)},o.onGameStart=function(){var e=this;this.roadMoveTween=g(this.node).repeatForever(g().by(1,{position:new y(-this.speed*this.road[0].scale.x*this.road[0].getComponent(d).width,0,0)})),this.scheduleOnce((function(){e.roadMoveTween.start()}),.83)},t}(v)).prototype,"playerRef",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(M.prototype,"playerShadow",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(M.prototype,"speed",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),A=t(M.prototype,"tile",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(M.prototype,"gatesMap",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(M.prototype,"gatesVariants",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=M))||z));o._RF.pop()}}}));

System.register("chunks:///_virtual/Ui.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,n,r,o,a,c,s,l,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,c=t.Node,s=t.tween,l=t.UIOpacity,u=t.Component}],execute:function(){var p,f,y,d,h,v,b,U,g;o._RF.push({},"8d31blJ/hNM9obKKNdVrieD","Ui",void 0);var m=a.ccclass,w=a.property;t("Ui",(p=m("Ui"),f=w({type:c}),y=w({type:c}),d=w({type:c}),p((b=e((v=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"roadRef",b,r(e)),n(e,"startUi",U,r(e)),n(e,"finishUi",g,r(e)),e}i(e,t);var o=e.prototype;return o.start=function(){var t=this;this.roadRef.on("onLastGatePassed",(function(){t.node.active=!0,t.finishUi.active=!0,s(t.node.getComponent(l)).to(.25,{opacity:255}).start()}),this)},o.onGameStart=function(){var t=this;s(this.node.getComponent(l)).to(.25,{opacity:0}).call((function(){t.startUi.active=!1,t.node.active=!1})).start()},e}(u)).prototype,"roadRef",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(v.prototype,"startUi",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=e(v.prototype,"finishUi",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=v))||h));o._RF.pop()}}}));
